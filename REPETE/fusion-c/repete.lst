                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.0 #15242 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module repete
                                      6 	
                                      7 	.optsdcc -mz80 sdcccall(1)
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _main
                                     12 	.globl _GravarAluno
                                     13 	.globl _ReceberAluno
                                     14 	.globl _WaitKey
                                     15 	.globl _Width
                                     16 	.globl _Screen
                                     17 	.globl _Cls
                                     18 	.globl _PrintDec
                                     19 	.globl _InputString
                                     20 	.globl _Print
                                     21 	.globl _totalAlunos
                                     22 	.globl _alunos
                                     23 ;--------------------------------------------------------
                                     24 ; special function registers
                                     25 ;--------------------------------------------------------
                                     26 ;--------------------------------------------------------
                                     27 ; ram data
                                     28 ;--------------------------------------------------------
                                     29 	.area _DATA
    00000000                         30 _alunos::
    00000000                         31 	.ds 1500
                                     32 ;--------------------------------------------------------
                                     33 ; ram data
                                     34 ;--------------------------------------------------------
                                     35 	.area _INITIALIZED
    00000000                         36 _totalAlunos::
    00000000                         37 	.ds 2
                                     38 ;--------------------------------------------------------
                                     39 ; absolute external ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area _DABS (ABS)
                                     42 ;--------------------------------------------------------
                                     43 ; global & static initialisations
                                     44 ;--------------------------------------------------------
                                     45 	.area _HOME
                                     46 	.area _GSINIT
                                     47 	.area _GSFINAL
                                     48 	.area _GSINIT
                                     49 ;--------------------------------------------------------
                                     50 ; Home
                                     51 ;--------------------------------------------------------
                                     52 	.area _HOME
                                     53 	.area _HOME
                                     54 ;--------------------------------------------------------
                                     55 ; code
                                     56 ;--------------------------------------------------------
                                     57 	.area _CODE
                                     58 ;repete.c:22: void ReceberAluno(Aluno *a)
                                     59 ;	---------------------------------
                                     60 ; Function ReceberAluno
                                     61 ; ---------------------------------
    00000000                         62 _ReceberAluno::
                                     63 ;repete.c:24: Print("Nome do aluno: ");
    00000000 11r3Cr00         [10]   64 	ld	de, #___str_0+0
    00000003 EB               [ 4]   65 	ex	de, hl
    00000004 D5               [11]   66 	push	de
    00000005 CDr00r00         [17]   67 	call	_Print
    00000008 E1               [10]   68 	pop	hl
                                     69 ;repete.c:25: InputString(a->nome, 29);
    00000009 11 1D 00         [10]   70 	ld	de, #0x001d
                                     71 ;repete.c:26: }
    0000000C C3r00r00         [10]   72 	jp	_InputString
    0000000F                         73 _Done_Version_tag:
    0000000F 4D 61 64 65 20 77 69    74 	.ascii "Made with FUSION-C 1.3 R21010 (c)EBSOFT:2021"
             74 68 20 46 55 53 49
             4F 4E 2D 43 20 31 2E
             33 20 52 32 31 30 31
             30 20 28 63 29 45 42
             53 4F 46 54 3A 32 30
             32 31
    0000003B 00                      75 	.db 0x00
    0000003C                         76 ___str_0:
    0000003C 4E 6F 6D 65 20 64 6F    77 	.ascii "Nome do aluno: "
             20 61 6C 75 6E 6F 3A
             20
    0000004B 00                      78 	.db 0x00
                                     79 ;repete.c:28: void GravarAluno(Aluno a)
                                     80 ;	---------------------------------
                                     81 ; Function GravarAluno
                                     82 ; ---------------------------------
    0000004C                         83 _GravarAluno::
    0000004C CDr00r00         [17]   84 	call	___sdcc_enter_ix
                                     85 ;repete.c:30: alunos[totalAlunos] = a;
    0000004F 01r00r00         [10]   86 	ld	bc, #_alunos+0
    00000052 ED 5Br00r00      [20]   87 	ld	de, (_totalAlunos)
    00000056 6B               [ 4]   88 	ld	l, e
    00000057 62               [ 4]   89 	ld	h, d
    00000058 29               [11]   90 	add	hl, hl
    00000059 19               [11]   91 	add	hl, de
    0000005A 29               [11]   92 	add	hl, hl
    0000005B 19               [11]   93 	add	hl, de
    0000005C 29               [11]   94 	add	hl, hl
    0000005D 19               [11]   95 	add	hl, de
    0000005E 29               [11]   96 	add	hl, hl
    0000005F 09               [11]   97 	add	hl, bc
    00000060 EB               [ 4]   98 	ex	de, hl
    00000061 21 04 00         [10]   99 	ld	hl, #4
    00000064 39               [11]  100 	add	hl, sp
    00000065 01 1E 00         [10]  101 	ld	bc, #0x001e
    00000068 ED B0            [21]  102 	ldir
                                    103 ;repete.c:31: totalAlunos++;
    0000006A 2Ar00r00         [16]  104 	ld	hl, (_totalAlunos)
    0000006D 23               [ 6]  105 	inc	hl
    0000006E 22r00r00         [16]  106 	ld	(_totalAlunos), hl
                                    107 ;repete.c:32: }
    00000071 DD E1            [14]  108 	pop	ix
    00000073 E1               [10]  109 	pop	hl
    00000074 FD 21 1E 00      [14]  110 	ld	iy, #30
    00000078 FD 39            [15]  111 	add	iy, sp
    0000007A FD F9            [10]  112 	ld	sp, iy
    0000007C E9               [ 4]  113 	jp	(hl)
                                    114 ;repete.c:34: int main() 
                                    115 ;	---------------------------------
                                    116 ; Function main
                                    117 ; ---------------------------------
    0000007D                        118 _main::
    0000007D CDr00r00         [17]  119 	call	___sdcc_enter_ix
    00000080 21 E0 FF         [10]  120 	ld	hl, #-32
    00000083 39               [11]  121 	add	hl, sp
    00000084 F9               [ 6]  122 	ld	sp, hl
                                    123 ;repete.c:40: Screen(0);
    00000085 AF               [ 4]  124 	xor	a, a
    00000086 CDr00r00         [17]  125 	call	_Screen
                                    126 ;repete.c:41: Width(40);
    00000089 3E 28            [ 7]  127 	ld	a, #0x28
    0000008B CDr00r00         [17]  128 	call	_Width
                                    129 ;repete.c:42: Cls();
    0000008E CDr00r00         [17]  130 	call	_Cls
                                    131 ;repete.c:44: Print("=== CHAMADA DE SALA ===\n\n");
    00000091 21r7Fr01         [10]  132 	ld	hl, #___str_2
    00000094 CDr00r00         [17]  133 	call	_Print
                                    134 ;repete.c:47: while(1)
    00000097                        135 00105$:
                                    136 ;repete.c:49: Print("Digite o nome (ou Enter para terminar)\n");
    00000097 21r99r01         [10]  137 	ld	hl, #___str_3
    0000009A CDr00r00         [17]  138 	call	_Print
                                    139 ;repete.c:50: ReceberAluno(&alunoPresente);
    0000009D 21 00 00         [10]  140 	ld	hl, #0
    000000A0 39               [11]  141 	add	hl, sp
    000000A1 CDr00r00         [17]  142 	call	_ReceberAluno
                                    143 ;repete.c:53: if(alunoPresente.nome[0] == '\0' || alunoPresente.nome[0] == '\n')
    000000A4 DD 7E E0         [19]  144 	ld	a, -32 (ix)
    000000A7 B7               [ 4]  145 	or	a, a
    000000A8 28 5D            [12]  146 	jr	Z, 00106$
    000000AA D6 0A            [ 7]  147 	sub	a, #0x0a
    000000AC 28 59            [12]  148 	jr	Z, 00106$
                                    149 ;repete.c:56: GravarAluno(alunoPresente);
    000000AE 21 1D 00         [10]  150 	ld	hl, #0x1d
    000000B1 39               [11]  151 	add	hl, sp
    000000B2 46               [ 7]  152 	ld	b, (hl)
    000000B3 2B               [ 6]  153 	dec	hl
    000000B4 4E               [ 7]  154 	ld	c, (hl)
    000000B5 2B               [ 6]  155 	dec	hl
    000000B6 C5               [11]  156 	push	bc
    000000B7 46               [ 7]  157 	ld	b, (hl)
    000000B8 2B               [ 6]  158 	dec	hl
    000000B9 4E               [ 7]  159 	ld	c, (hl)
    000000BA 2B               [ 6]  160 	dec	hl
    000000BB C5               [11]  161 	push	bc
    000000BC 46               [ 7]  162 	ld	b, (hl)
    000000BD 2B               [ 6]  163 	dec	hl
    000000BE 4E               [ 7]  164 	ld	c, (hl)
    000000BF 2B               [ 6]  165 	dec	hl
    000000C0 C5               [11]  166 	push	bc
    000000C1 46               [ 7]  167 	ld	b, (hl)
    000000C2 2B               [ 6]  168 	dec	hl
    000000C3 4E               [ 7]  169 	ld	c, (hl)
    000000C4 2B               [ 6]  170 	dec	hl
    000000C5 C5               [11]  171 	push	bc
    000000C6 46               [ 7]  172 	ld	b, (hl)
    000000C7 2B               [ 6]  173 	dec	hl
    000000C8 4E               [ 7]  174 	ld	c, (hl)
    000000C9 2B               [ 6]  175 	dec	hl
    000000CA C5               [11]  176 	push	bc
    000000CB 46               [ 7]  177 	ld	b, (hl)
    000000CC 2B               [ 6]  178 	dec	hl
    000000CD 4E               [ 7]  179 	ld	c, (hl)
    000000CE 2B               [ 6]  180 	dec	hl
    000000CF C5               [11]  181 	push	bc
    000000D0 46               [ 7]  182 	ld	b, (hl)
    000000D1 2B               [ 6]  183 	dec	hl
    000000D2 4E               [ 7]  184 	ld	c, (hl)
    000000D3 2B               [ 6]  185 	dec	hl
    000000D4 C5               [11]  186 	push	bc
    000000D5 46               [ 7]  187 	ld	b, (hl)
    000000D6 2B               [ 6]  188 	dec	hl
    000000D7 4E               [ 7]  189 	ld	c, (hl)
    000000D8 2B               [ 6]  190 	dec	hl
    000000D9 C5               [11]  191 	push	bc
    000000DA 46               [ 7]  192 	ld	b, (hl)
    000000DB 2B               [ 6]  193 	dec	hl
    000000DC 4E               [ 7]  194 	ld	c, (hl)
    000000DD 2B               [ 6]  195 	dec	hl
    000000DE C5               [11]  196 	push	bc
    000000DF 46               [ 7]  197 	ld	b, (hl)
    000000E0 2B               [ 6]  198 	dec	hl
    000000E1 4E               [ 7]  199 	ld	c, (hl)
    000000E2 2B               [ 6]  200 	dec	hl
    000000E3 C5               [11]  201 	push	bc
    000000E4 46               [ 7]  202 	ld	b, (hl)
    000000E5 2B               [ 6]  203 	dec	hl
    000000E6 4E               [ 7]  204 	ld	c, (hl)
    000000E7 2B               [ 6]  205 	dec	hl
    000000E8 C5               [11]  206 	push	bc
    000000E9 46               [ 7]  207 	ld	b, (hl)
    000000EA 2B               [ 6]  208 	dec	hl
    000000EB 4E               [ 7]  209 	ld	c, (hl)
    000000EC 2B               [ 6]  210 	dec	hl
    000000ED C5               [11]  211 	push	bc
    000000EE 46               [ 7]  212 	ld	b, (hl)
    000000EF 2B               [ 6]  213 	dec	hl
    000000F0 4E               [ 7]  214 	ld	c, (hl)
    000000F1 2B               [ 6]  215 	dec	hl
    000000F2 C5               [11]  216 	push	bc
    000000F3 46               [ 7]  217 	ld	b, (hl)
    000000F4 2B               [ 6]  218 	dec	hl
    000000F5 4E               [ 7]  219 	ld	c, (hl)
    000000F6 2B               [ 6]  220 	dec	hl
    000000F7 C5               [11]  221 	push	bc
    000000F8 46               [ 7]  222 	ld	b, (hl)
    000000F9 2B               [ 6]  223 	dec	hl
    000000FA 4E               [ 7]  224 	ld	c, (hl)
    000000FB C5               [11]  225 	push	bc
    000000FC CDr4Cr00         [17]  226 	call	_GravarAluno
                                    227 ;repete.c:57: Print("\n");
    000000FF 21rC1r01         [10]  228 	ld	hl, #___str_4
    00000102 CDr00r00         [17]  229 	call	_Print
    00000105 18 90            [12]  230 	jr	00105$
    00000107                        231 00106$:
                                    232 ;repete.c:61: Print("\n=== ALUNOS PRESENTES ===\n");
    00000107 21rC3r01         [10]  233 	ld	hl, #___str_5
    0000010A CDr00r00         [17]  234 	call	_Print
                                    235 ;repete.c:62: for (i = 0; i < totalAlunos; i++) 
    0000010D 01 00 00         [10]  236 	ld	bc, #0x0000
    00000110 11r00r00         [10]  237 	ld	de, #_alunos+0
    00000113                        238 00109$:
    00000113 21r00r00         [10]  239 	ld	hl, #_totalAlunos
    00000116 79               [ 4]  240 	ld	a, c
    00000117 96               [ 7]  241 	sub	a, (hl)
    00000118 23               [ 6]  242 	inc	hl
    00000119 78               [ 4]  243 	ld	a, b
    0000011A 9E               [ 7]  244 	sbc	a, (hl)
    0000011B E2r20r01         [10]  245 	jp	PO, 00149$
    0000011E EE 80            [ 7]  246 	xor	a, #0x80
    00000120                        247 00149$:
    00000120 F2r5Cr01         [10]  248 	jp	P, 00107$
                                    249 ;repete.c:64: PrintDec(i+1);
    00000123 69               [ 4]  250 	ld	l, c
    00000124 60               [ 4]  251 	ld	h, b
    00000125 23               [ 6]  252 	inc	hl
    00000126 DD 75 FE         [19]  253 	ld	-2 (ix), l
    00000129 DD 74 FF         [19]  254 	ld	-1 (ix), h
    0000012C C5               [11]  255 	push	bc
    0000012D D5               [11]  256 	push	de
    0000012E DD 6E FE         [19]  257 	ld	l, -2 (ix)
    00000131 DD 66 FF         [19]  258 	ld	h, -1 (ix)
    00000134 CDr00r00         [17]  259 	call	_PrintDec
                                    260 ;repete.c:65: Print(". ");
    00000137 21rDEr01         [10]  261 	ld	hl, #___str_6
    0000013A CDr00r00         [17]  262 	call	_Print
    0000013D D1               [10]  263 	pop	de
    0000013E C1               [10]  264 	pop	bc
                                    265 ;repete.c:66: Print(alunos[i].nome);
    0000013F 69               [ 4]  266 	ld	l, c
    00000140 60               [ 4]  267 	ld	h, b
    00000141 29               [11]  268 	add	hl, hl
    00000142 09               [11]  269 	add	hl, bc
    00000143 29               [11]  270 	add	hl, hl
    00000144 09               [11]  271 	add	hl, bc
    00000145 29               [11]  272 	add	hl, hl
    00000146 09               [11]  273 	add	hl, bc
    00000147 29               [11]  274 	add	hl, hl
    00000148 19               [11]  275 	add	hl, de
    00000149 D5               [11]  276 	push	de
    0000014A CDr00r00         [17]  277 	call	_Print
                                    278 ;repete.c:67: Print("\n");
    0000014D 21rC1r01         [10]  279 	ld	hl, #___str_4
    00000150 CDr00r00         [17]  280 	call	_Print
    00000153 D1               [10]  281 	pop	de
                                    282 ;repete.c:62: for (i = 0; i < totalAlunos; i++) 
    00000154 DD 4E FE         [19]  283 	ld	c, -2 (ix)
    00000157 DD 46 FF         [19]  284 	ld	b, -1 (ix)
    0000015A 18 B7            [12]  285 	jr	00109$
    0000015C                        286 00107$:
                                    287 ;repete.c:70: Print("\nTotal: ");
    0000015C 21rE1r01         [10]  288 	ld	hl, #___str_7
    0000015F CDr00r00         [17]  289 	call	_Print
                                    290 ;repete.c:71: PrintDec(totalAlunos);
    00000162 2Ar00r00         [16]  291 	ld	hl, (_totalAlunos)
    00000165 CDr00r00         [17]  292 	call	_PrintDec
                                    293 ;repete.c:72: Print(" alunos\n");
    00000168 21rEAr01         [10]  294 	ld	hl, #___str_8
    0000016B CDr00r00         [17]  295 	call	_Print
                                    296 ;repete.c:75: Print("\nPressione qualquer tecla...");
    0000016E 21rF3r01         [10]  297 	ld	hl, #___str_9
    00000171 CDr00r00         [17]  298 	call	_Print
                                    299 ;repete.c:76: WaitKey();
    00000174 CDr00r00         [17]  300 	call	_WaitKey
                                    301 ;repete.c:78: return 0;
    00000177 11 00 00         [10]  302 	ld	de, #0x0000
                                    303 ;repete.c:79: }
    0000017A DD F9            [10]  304 	ld	sp, ix
    0000017C DD E1            [14]  305 	pop	ix
    0000017E C9               [10]  306 	ret
    0000017F                        307 ___str_2:
    0000017F 3D 3D 3D 20 43 48 41   308 	.ascii "=== CHAMADA DE SALA ==="
             4D 41 44 41 20 44 45
             20 53 41 4C 41 20 3D
             3D 3D
    00000196 0A                     309 	.db 0x0a
    00000197 0A                     310 	.db 0x0a
    00000198 00                     311 	.db 0x00
    00000199                        312 ___str_3:
    00000199 44 69 67 69 74 65 20   313 	.ascii "Digite o nome (ou Enter para terminar)"
             6F 20 6E 6F 6D 65 20
             28 6F 75 20 45 6E 74
             65 72 20 70 61 72 61
             20 74 65 72 6D 69 6E
             61 72 29
    000001BF 0A                     314 	.db 0x0a
    000001C0 00                     315 	.db 0x00
    000001C1                        316 ___str_4:
    000001C1 0A                     317 	.db 0x0a
    000001C2 00                     318 	.db 0x00
    000001C3                        319 ___str_5:
    000001C3 0A                     320 	.db 0x0a
    000001C4 3D 3D 3D 20 41 4C 55   321 	.ascii "=== ALUNOS PRESENTES ==="
             4E 4F 53 20 50 52 45
             53 45 4E 54 45 53 20
             3D 3D 3D
    000001DC 0A                     322 	.db 0x0a
    000001DD 00                     323 	.db 0x00
    000001DE                        324 ___str_6:
    000001DE 2E 20                  325 	.ascii ". "
    000001E0 00                     326 	.db 0x00
    000001E1                        327 ___str_7:
    000001E1 0A                     328 	.db 0x0a
    000001E2 54 6F 74 61 6C 3A 20   329 	.ascii "Total: "
    000001E9 00                     330 	.db 0x00
    000001EA                        331 ___str_8:
    000001EA 20 61 6C 75 6E 6F 73   332 	.ascii " alunos"
    000001F1 0A                     333 	.db 0x0a
    000001F2 00                     334 	.db 0x00
    000001F3                        335 ___str_9:
    000001F3 0A                     336 	.db 0x0a
    000001F4 50 72 65 73 73 69 6F   337 	.ascii "Pressione qualquer tecla..."
             6E 65 20 71 75 61 6C
             71 75 65 72 20 74 65
             63 6C 61 2E 2E 2E
    0000020F 00                     338 	.db 0x00
                                    339 	.area _CODE
                                    340 	.area _INITIALIZER
    00000000                        341 __xinit__totalAlunos:
    00000000 00 00                  342 	.dw #0x0000
                                    343 	.area _CABS (ABS)
